<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>love</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bitcount+Grid+Double:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">

<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --red:#ff2d55;
  --pink:#ff6b91;
  --rose:#ffb3c6;
  --glow:#ff2d5588;
}

html,body{
  width:100%;
  min-height:100vh;
  background:#000;
  color:#fff;
  font-family:'Bitcount Grid Double',monospace;
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow-x:hidden;
}

/* better mobile spacing */
body{padding-bottom:20px}

/* starfield */
#stars{position:fixed;inset:0;z-index:0;
  background:radial-gradient(ellipse at 50% 40%,#160004 0%,#000 70%);
  pointer-events:none;overflow:hidden;}
.star{position:absolute;border-radius:50%;background:#fff;
  animation:tw var(--d) ease-in-out infinite alternate;}
@keyframes tw{from{opacity:.08}to{opacity:.8}}

/* header */
header{
  position:relative;z-index:10;
  margin-top:18px;text-align:center;
  width:100%;padding:0 12px;
}
header h1{
  font-weight:700;
  font-size:clamp(1rem,4vw,1.5rem);
  color:var(--pink);
  letter-spacing:.18em;
  text-shadow:0 0 20px var(--glow),0 0 50px var(--glow);
  animation:hpulse 2.8s ease-in-out infinite;
}
@keyframes hpulse{
  0%,100%{text-shadow:0 0 14px var(--glow),0 0 40px var(--glow);}
  50%{text-shadow:0 0 28px var(--red),0 0 60px var(--red),0 0 100px var(--glow);}
}

/* heart container */
#heart-wrap{
  position:relative;z-index:10;
  margin-top:10px;
  width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

#d{
  font-family:'Bitcount Grid Double',monospace;
  line-height:1.05;
  white-space:pre;
  color:var(--red);
  text-shadow:0 0 6px var(--glow);
  filter:drop-shadow(0 0 18px var(--glow));
  user-select:none;
}

/* message */
#message{
  position:relative;z-index:10;
  text-align:center;
  margin-top:12px;
  padding:0 18px;
  width:100%;
}
.line1{
  font-weight:700;
  font-size:clamp(1rem,4vw,1.4rem);
  color:var(--pink);
  letter-spacing:.1em;
  text-shadow:0 0 18px var(--glow);
  animation:hb 1.4s ease-in-out infinite;
}
@keyframes hb{
  0%,100%{transform:scale(1)}
  15%{transform:scale(1.05)}
  30%{transform:scale(.97)}
  45%{transform:scale(1.04)}
}
.line2{
  font-weight:300;
  font-size:clamp(.72rem,3vw,.9rem);
  color:var(--rose);
  margin-top:8px;
  letter-spacing:.04em;
  opacity:.9;
  line-height:1.75;
}

/* asymptote */
#asym-section{
  position:relative;z-index:10;
  display:flex;flex-direction:column;align-items:center;
  margin:22px 14px 18px;
  gap:10px;
  width:min(660px,96vw);
}

.asym-caption{
  font-size:clamp(.72rem,2.6vw,.86rem);
  color:#ff6b9199;
  letter-spacing:.1em;
  text-align:center;
  line-height:1.6;
}
.asym-caption span{color:var(--pink);text-shadow:0 0 10px var(--glow);}

#asym-wrap{
  width:100%;
  border:1px solid #ff2d5530;
  border-radius:12px;
  background:#080002;
  box-shadow:0 0 30px #ff2d5515,inset 0 0 40px #000;
  padding:6px;
  overflow:hidden;
}

/* canvas container */
#asym-canvas-container{
  position:relative;
  width:100%;
  padding-bottom:46%;
  height:0;
}

canvas#asym{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
}

/* footer */
footer{
  position:relative;z-index:10;
  font-size:clamp(.6rem,2.2vw,.75rem);
  color:#ff2d5530;
  letter-spacing:.2em;
  padding:18px 0 24px;
  text-align:center;
}
</style>
</head>

<body>

<div id="stars"></div>
<header><h1>HUSBUNNN</h1></header>
<div id="heart-wrap"><pre id="d"></pre></div>

<div id="message">
  <div class="line1">I LOVE YOU, HUSBUNNN</div>
  <div class="line2">
    my love is always gonna be asymptotic<br>
    &mdash; forever approaching infinity, never stopping &mdash;
  </div>
</div>

<div id="asym-section">
  <p class="asym-caption">
    <span>MY LOVE FOR YOU</span> &nbsp;&middot;&nbsp;
    y&nbsp;=&nbsp;1/(1&minus;x) &nbsp;&rarr;&nbsp; approaches &infin; as x&nbsp;&rarr;&nbsp;1
  </p>
  <div id="asym-wrap">
    <div id="asym-canvas-container">
      <canvas id="asym"></canvas>
    </div>
  </div>
</div>

<footer>made with asymptotic love</footer>

<script>
/* stars */
(function(){
  const el=document.getElementById('stars');
  for(let i=0;i<120;i++){
    const s=document.createElement('div');
    s.className='star';
    const sz=Math.random()*2+.4;
    s.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;top:${Math.random()*100}%;--d:${(Math.random()*3+1.5).toFixed(2)}s;animation-delay:${(Math.random()*5).toFixed(2)}s`;
    el.appendChild(s);
  }
})();

/* improved responsive ASCII heart */
(function(){
  const pre=document.getElementById('d');
  const SHADE='.,-~:;=!*#$@';
  let A=1,B=1;

  function render(){
    const w=Math.min(window.innerWidth,680);
    const fontSize=Math.max(8,Math.min(16,w/55));
    const cols=Math.floor(w/(fontSize*0.62));
    const rows=Math.floor(cols*0.36);

    pre.style.fontSize=fontSize+'px';

    const b=new Array(cols*rows).fill(' ');
    const z=new Float32Array(cols*rows);

    const K1x=cols*0.22;
    const K1y=rows*0.27;
    const cx=cols>>1,cy=rows>>1;
    const R=.38,K2=5;

    for(let u=0;u<6.28;u+=0.02){
      const hx=16*Math.sin(u)**3/17;
      const hy=(13*Math.cos(u)-5*Math.cos(2*u)-2*Math.cos(3*u)-Math.cos(4*u))/17;

      for(let v=0;v<6.28;v+=0.12){
        const x=hx+R*Math.cos(v);
        const y=hy+R*Math.sin(v);
        const z3=R*Math.sin(v);

        const D=1/(z3+K2);
        const xp=0|(cx+K1x*D*x);
        const yp=0|(cy-K1y*D*y);
        const o=xp+cols*yp;
        if(o>=0&&o<b.length&&D>z[o]){
          z[o]=D;
          const N=0|(8*(0.7*y+0.3));
          b[o]=SHADE[Math.max(0,Math.min(SHADE.length-1,N))];
        }
      }
    }

    let out='';
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++) out+=b[c+r*cols];
      out+='\n';
    }
    pre.textContent=out;
  }

  setInterval(()=>{A+=.07;B+=.03;render();},60);
  render();
  window.addEventListener('resize',render);
})();

/* your asymptote canvas code unchanged except DPR sharpen */
(function(){
  const canvas=document.getElementById('asym');
  const ctx=canvas.getContext('2d');
  let CW=640,CH=280,t=0;

  function resize(){
    const r=canvas.getBoundingClientRect();
    const dpr=window.devicePixelRatio||1;
    CW=r.width;CH=r.height;
    canvas.width=CW*dpr;canvas.height=CH*dpr;
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  resize();window.addEventListener('resize',resize);

  function draw(){
    ctx.fillStyle='#080002';
    ctx.fillRect(0,0,CW,CH);
    ctx.strokeStyle='#ff2d55';
    ctx.beginPath();
    for(let x=-2.5;x<.99;x+=.01){
      const y=1/(1-x);
      const sx=(x+2.6)/5.2*CW;
      const sy=CH-(y+7)/14*CH;
      if(y>-7&&y<7)ctx.lineTo(sx,sy);
    }
    ctx.stroke();
    t+=.03;requestAnimationFrame(draw);
  }
  draw();
})();
</script>
</body>
</html>
